---
layout: post
title: 常见浏览器bug及异常行为的解决方案
description: 常见浏览器bug及异常行为的解决方案
image: assets/images/pic02.jpg
---

1. 外边距叠加问题
加边框或添加一像素的内边距
同时，在出现问题时，可通过添加外边距来发现问题。

2. 星号hack
针对IE6和更低版本，IE老版本的根元素不是HTML，而是在其外围包了一个匿名根元素，所以可以用*号将规则应用于这些浏览器,ie7解决了这个问题
* html { ... }

### 常见bug及修复
1. 双外边距浮动bug
发生在IE6及更低版本，它会使浮动元素上的外边距加倍，
float: left;
margin-left: 20px;
而实际表现为外边距40px

解决
设置display: inline;
元素是浮动的，设置inline不会影响现实方式，但是这会阻止IE6及更低版本增加边距。

2. 3px文本偏移bug
当文本与元素相邻，元素左浮动，并不希望文本环绕元素
.myFloat {
  float: left;
  width: 200px;
}
p {
  margin-left: 200px;
}
以上代码会有在IE6及更低版本出现bug，在文本和浮动元素之间会出现一个莫名奇妙的3px间隙。

解决
p {
  height: 1%;
  margin-left: 0;
}
给文本元素添加一个小高度，会迫使元素拥有布局，可消除偏移。(IE6将height和min-height同样解析。)margin改为0消除间隙
文本偏移被消除
但浮动元素上出现了3px偏移，添加-3px的外边距解决
另外如果浮动元素是图片还需注意，IE6以下图像左右会添加三像素间隙
以下为最终代码
p {
  height: 1%;
  margin-left: 0;
}
img.myFloat {
  margin: 0 -3px;
}

3.ie6重复字符bug
当在一系列浮动元素的第一个和最后一个元素之间有多个注视时，会出现这个bug。前两个注视无影响，后续每个字符导致两个字符重复出现。

解决
可以通过在最后一个元素去掉三像素或增加三像素解决，但这样不安全，IE7及以上没有这个问题。最安全的做法是去掉注释。

4.相对容器中的绝对定位
IE6和更低版本，
bug的原因在于相对定位的元素没有获得IE的hasLayout属性。因此它们不创建新的定位上下文，所有绝对定位元素相对于视口定位。

解决
可通过条件注释解决，为容器提供一个任意高度，使其拥有布局。可以利用IE6及以下更低版本不正确扩展高度的bug给容器设置小高度，以减小其影响。
